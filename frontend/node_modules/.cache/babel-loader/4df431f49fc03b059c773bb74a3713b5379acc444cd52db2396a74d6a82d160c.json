{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/campm/finalcrud/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/campm/finalcrud/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _taggedTemplateLiteral from\"C:/Users/campm/finalcrud/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import axios from\"axios\";import{useEffect,useRef}from\"react\";import styled from\"styled-components\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormContainer=styled.form(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: flex-end;\\n  gap: 100px;\\n  flex-wrap: wrap;\\n  background-color: #ADD8E6;\\n  opacity: 0.7;\\n  padding: 5px;\\n  box-shadow: 10px 10px 2px #000000;\\n  border-radius: 5px;\\n\"])));var InputArea=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n\"])));var Input=styled.input(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 210px;\\n  padding: 0 10px;\\n  border: 1px solid #bbb;\\n  border-radius: 5px;\\n  height: 40px;\\n\"])));var Label=styled.label(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\ncolor: #191970\"])));var Button=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  cursor: pointer;\\n  border-radius: 5px;\\n  border: none;\\n  background-color: #2c73d2;\\n  color: white;\\n  height: 42px;\\n\"])));var Form=function Form(_ref){var getUsers=_ref.getUsers,onEdit=_ref.onEdit,setOnEdit=_ref.setOnEdit;var ref=useRef();useEffect(function(){if(onEdit){var user=ref.current;user.nouveauargonaute.value=onEdit.nouveauargonaute;}},[onEdit]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();user=ref.current;if(user.nouveauargonaute.value){_context.next=4;break;}return _context.abrupt(\"return\",toast.warn(\"Veuillez saisir un Nom d'argonaute ;)\"));case 4:if(!onEdit){_context.next=9;break;}_context.next=7;return axios.put(\"http://localhost:88OO/\"+onEdit.id,{nouveauargonaute:user.nouveauargonaute.value}).then(function(_ref3){var data=_ref3.data;return toast.success(data);}).catch(function(_ref4){var data=_ref4.data;return toast.error(data);});case 7:_context.next=11;break;case 9:_context.next=11;return axios.post(\"http://localhost:8800\",{nouveauargonaute:user.nouveauargonaute.value}).then(function(_ref5){var data=_ref5.data;return toast.success(data);}).catch(function(_ref6){var data=_ref6.data;return toast.error(data);});case 11:user.nouveauargonaute.value=\"\";setOnEdit(null);getUsers();case 14:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(FormContainer,{ref:ref,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Ajouter un Nouvel Argonaute.\"}),/*#__PURE__*/_jsx(Input,{name:\"nouveauargonaute\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Ajouter\"})]});};export default Form;","map":{"version":3,"names":["axios","useEffect","useRef","styled","toast","FormContainer","form","InputArea","div","Input","input","Label","label","Button","button","Form","getUsers","onEdit","setOnEdit","ref","user","current","nouveauargonaute","value","handleSubmit","e","preventDefault","warn","put","id","then","data","success","catch","error","post"],"sources":["C:/Users/campm/finalcrud/frontend/src/components/Form.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst FormContainer = styled.form`\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: 100px;\r\n  flex-wrap: wrap;\r\n  background-color: #ADD8E6;\r\n  opacity: 0.7;\r\n  padding: 5px;\r\n  box-shadow: 10px 10px 2px #000000;\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst InputArea = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 210px;\r\n  padding: 0 10px;\r\n  border: 1px solid #bbb;\r\n  border-radius: 5px;\r\n  height: 40px;\r\n`;\r\n\r\nconst Label = styled.label`\r\ncolor: #191970`;\r\n\r\nconst Button = styled.button`\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  border: none;\r\n  background-color: #2c73d2;\r\n  color: white;\r\n  height: 42px;\r\n`;\r\n\r\nconst Form = ({ getUsers, onEdit, setOnEdit }) => {\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n      if (onEdit) {\r\n        const user = ref.current;\r\n        user.nouveauargonaute.value = onEdit.nouveauargonaute;\r\n      }\r\n    }, [onEdit]);\r\n\r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n\r\n      const user = ref.current;\r\n\r\n      if (\r\n        !user.nouveauargonaute.value\r\n      ) {\r\n        return toast.warn(\"Veuillez saisir un Nom d'argonaute ;)\");\r\n      }\r\n\r\n      if (onEdit) {\r\n        await axios\r\n         .put(\"http://localhost:88OO/\" + onEdit.id, {\r\n           nouveauargonaute: user.nouveauargonaute.value,\r\n          })\r\n         .then(({ data }) => toast.success(data))\r\n         .catch(({ data }) => toast.error(data));\r\n      } else {\r\n        await axios\r\n          .post(\"http://localhost:8800\", {\r\n             nouveauargonaute: user.nouveauargonaute.value,\r\n          })\r\n          .then(({ data }) => toast.success(data))\r\n          .catch(({ data }) => toast.error(data));\r\n      }\r\n\r\n      user.nouveauargonaute.value = \"\";\r\n      \r\n      setOnEdit(null);\r\n      getUsers();\r\n    };\r\n\r\n    return (\r\n        <FormContainer ref={ref} onSubmit={handleSubmit}>\r\n            <InputArea>\r\n            <Label>Ajouter un Nouvel Argonaute.</Label>\r\n              <Input name=\"nouveauargonaute\" />\r\n            </InputArea> \r\n            <Button type=\"submit\">Ajouter</Button>   \r\n        </FormContainer>\r\n    );\r\n};\r\n\r\nexport default Form;"],"mappings":"6dAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACzC,MAAOC,OAAM,KAAM,mBAAmB,CACtC,OAASC,KAAK,KAAQ,gBAAgB,CAAC,wFAEvC,GAAMC,cAAa,CAAGF,MAAM,CAACG,IAAI,+QAUhC,CAED,GAAMC,UAAS,CAAGJ,MAAM,CAACK,GAAG,kHAG3B,CAED,GAAMC,MAAK,CAAGN,MAAM,CAACO,KAAK,6KAMzB,CAED,GAAMC,MAAK,CAAGR,MAAM,CAACS,KAAK,mFACX,CAEf,GAAMC,OAAM,CAAGV,MAAM,CAACW,MAAM,mNAQ3B,CAED,GAAMC,KAAI,CAAG,QAAPA,KAAI,MAAwC,IAAlCC,SAAQ,MAARA,QAAQ,CAAEC,MAAM,MAANA,MAAM,CAAEC,SAAS,MAATA,SAAS,CACvC,GAAMC,IAAG,CAAGjB,MAAM,EAAE,CAEpBD,SAAS,CAAC,UAAM,CACd,GAAIgB,MAAM,CAAE,CACV,GAAMG,KAAI,CAAGD,GAAG,CAACE,OAAO,CACxBD,IAAI,CAACE,gBAAgB,CAACC,KAAK,CAAGN,MAAM,CAACK,gBAAgB,CACvD,CACF,CAAC,CAAE,CAACL,MAAM,CAAC,CAAC,CAEZ,GAAMO,aAAY,6FAAG,iBAAOC,CAAC,6HAC3BA,CAAC,CAACC,cAAc,EAAE,CAEZN,IAAI,CAAGD,GAAG,CAACE,OAAO,IAGrBD,IAAI,CAACE,gBAAgB,CAACC,KAAK,yDAErBnB,KAAK,CAACuB,IAAI,CAAC,uCAAuC,CAAC,aAGxDV,MAAM,+CACFjB,MAAK,CACT4B,GAAG,CAAC,wBAAwB,CAAGX,MAAM,CAACY,EAAE,CAAE,CACzCP,gBAAgB,CAAEF,IAAI,CAACE,gBAAgB,CAACC,KACzC,CAAC,CAAC,CACFO,IAAI,CAAC,mBAAGC,KAAI,OAAJA,IAAI,OAAO3B,MAAK,CAAC4B,OAAO,CAACD,IAAI,CAAC,GAAC,CACvCE,KAAK,CAAC,mBAAGF,KAAI,OAAJA,IAAI,OAAO3B,MAAK,CAAC8B,KAAK,CAACH,IAAI,CAAC,GAAC,6DAElC/B,MAAK,CACRmC,IAAI,CAAC,uBAAuB,CAAE,CAC5Bb,gBAAgB,CAAEF,IAAI,CAACE,gBAAgB,CAACC,KAC3C,CAAC,CAAC,CACDO,IAAI,CAAC,mBAAGC,KAAI,OAAJA,IAAI,OAAO3B,MAAK,CAAC4B,OAAO,CAACD,IAAI,CAAC,GAAC,CACvCE,KAAK,CAAC,mBAAGF,KAAI,OAAJA,IAAI,OAAO3B,MAAK,CAAC8B,KAAK,CAACH,IAAI,CAAC,GAAC,SAG3CX,IAAI,CAACE,gBAAgB,CAACC,KAAK,CAAG,EAAE,CAEhCL,SAAS,CAAC,IAAI,CAAC,CACfF,QAAQ,EAAE,CAAC,uDACZ,kBA/BKQ,aAAY,6CA+BjB,CAED,mBACI,MAAC,aAAa,EAAC,GAAG,CAAEL,GAAI,CAAC,QAAQ,CAAEK,YAAa,wBAC5C,MAAC,SAAS,yBACV,KAAC,KAAK,2CAAqC,cACzC,KAAC,KAAK,EAAC,IAAI,CAAC,kBAAkB,EAAG,GACvB,cACZ,KAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,qBAAiB,GAC1B,CAExB,CAAC,CAED,cAAeT,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}